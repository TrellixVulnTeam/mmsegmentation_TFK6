# model settings
norm_cfg = dict(type='SyncBN', requires_grad=True)
model = dict(
    type='EncoderDecoder',
    pretrained='open-mmlab://resnet50_v1c',
    backbone=dict(
        type='ResNetV1c',
        depth=50,
        num_stages=4,
        out_indices=(0, 1, 2, 3),
        dilations=(1, 1, 2, 4),
        strides=(1, 2, 1, 1),
        norm_cfg=norm_cfg,
        norm_eval=False,
        style='pytorch',
        contract_dilation=True),
    decode_head=dict(
        type='DepthwiseSeparableASPPHead',
        in_channels=2048,
        in_index=3,
        channels=512,
        dilations=(1, 12, 24, 36),
        c1_in_channels=256,
        c1_channels=48,
        dropout_ratio=0.1,
        num_classes=66,
        norm_cfg=norm_cfg,
        align_corners=False,
        loss_decode=dict(
            type='CrossEntropyLoss',
            use_sigmoid=False,
            loss_weight=1.0,
            class_weight=[12.4510735, 11.0904762, 4.8069319, 4.3423485, 5.9236697, 5.3462306, 4.8418769, 5.623708,
                          6.0775981, 7.0470614, 6.0259978, 5.395545, 6.5151279, 1.663837, 6.2775069, 3.4943945,
                          4.8385439, 2.0711759, 7.0212179, 5.727029, 7.8811698, 8.3530922, 10.9335522, 4.803853,
                          4.3167839, 6.1023749, 9.271032, 1.2091459, 5.7628672, 4.4813028, 1.8793976, 7.4067389,
                          7.3207338, 8.8825351, 9.1392215, 5.07452, 8.201084, 10.6387071, 9.7399425, 7.8518058,
                          10.0099848, 7.429306, 9.3548937, 10.0662996, 7.399949, 4.7926479, 6.9961042, 5.4796921,
                          6.2721976, 7.1678816, 5.4032429, 7.3706222, 7.3139325, 9.1617586, 5.8800309, 3.3530599,
                          10.3546075, 7.375631, 8.2420199, 7.6924939, 9.1001355, 5.5714765, 9.6016257, 6.6111444,
                          3.8182847, 8.9986218])),
    auxiliary_head=dict(
        type='FCNHead',
        in_channels=1024,
        in_index=2,
        channels=256,
        num_convs=1,
        concat_input=False,
        dropout_ratio=0.1,
        num_classes=66,
        norm_cfg=norm_cfg,
        align_corners=False,
        loss_decode=dict(
            type='CrossEntropyLoss',
            use_sigmoid=False,
            loss_weight=0.4,
            class_weight=[12.4510735, 11.0904762, 4.8069319, 4.3423485, 5.9236697, 5.3462306, 4.8418769, 5.623708,
                          6.0775981, 7.0470614, 6.0259978, 5.395545, 6.5151279, 1.663837, 6.2775069, 3.4943945,
                          4.8385439, 2.0711759, 7.0212179, 5.727029, 7.8811698, 8.3530922, 10.9335522, 4.803853,
                          4.3167839, 6.1023749, 9.271032, 1.2091459, 5.7628672, 4.4813028, 1.8793976, 7.4067389,
                          7.3207338, 8.8825351, 9.1392215, 5.07452, 8.201084, 10.6387071, 9.7399425, 7.8518058,
                          10.0099848, 7.429306, 9.3548937, 10.0662996, 7.399949, 4.7926479, 6.9961042, 5.4796921,
                          6.2721976, 7.1678816, 5.4032429, 7.3706222, 7.3139325, 9.1617586, 5.8800309, 3.3530599,
                          10.3546075, 7.375631, 8.2420199, 7.6924939, 9.1001355, 5.5714765, 9.6016257, 6.6111444,
                          3.8182847, 8.9986218])),
    # model training and testing settings
    train_cfg=dict(),
    test_cfg=dict(mode='whole'))
